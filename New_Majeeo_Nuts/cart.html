<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Cart ‚Äì MajeeoNuts Premium Checkout</title>
  <meta name="description" content="Review your shopping bag, apply coupons, and proceed to secure checkout for your premium dry fruits.">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              red: '#7f1d1d',     /* Deep Royal Red - Primary */
              gold: '#D4AF37',    /* Premium Gold - Accent */
              cream: '#F9F5F1',   /* Warm Background */
              dark: '#1A1A1A',
            }
          },
          fontFamily: {
            sans: ['Poppins', 'sans-serif'],
            serif: ['Playfair Display', 'serif'],
          }
        }
      }
    }
  </script>
</head>
<body class="bg-brand-cream text-brand-dark font-sans antialiased">

<nav id="navbar" class="sticky top-0 z-50 bg-white shadow-md">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
            <a href="index.html" class="flex-shrink-0 flex items-center gap-2">
                <img src="images/MajeeoNuts.Logo.png" alt="MajeeoNuts" class="h-12 w-auto object-contain">
                <span class="text-2xl font-serif font-bold text-brand-red tracking-tight">MajeeoNuts</span>
            </a>
            
            <div class="hidden md:flex space-x-8 items-center">
                <a href="index.html" class="text-brand-dark hover:text-brand-red font-medium transition">Home</a>
                <a href="shop.html" class="text-brand-dark hover:text-brand-red font-medium transition">Shop All</a>
                <a href="about.html" class="text-brand-dark hover:text-brand-red font-medium transition">About Us</a>
            </div>

            <div class="flex items-center space-x-4 text-brand-red">
                <a href="account.html" class="hover:text-brand-gold transition"><i class="ri-user-line text-xl"></i></a>
            </div>
        </div>
    </div>
</nav>

<main class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 mt-6">
  <h1 class="text-4xl font-serif font-bold text-brand-red mb-8 border-b pb-4">Your Shopping Bag</h1>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
    
    <div class="lg:col-span-2 space-y-4">
        
      <div id="cart-items">
        <p class="text-gray-500 text-center py-10" id="empty-cart-message">Loading cart...</p>
      </div>

      <div class="flex justify-between items-center pt-4 border-t">
          <a href="shop.html" class="text-brand-red font-semibold hover:text-brand-dark transition flex items-center">
              <i class="ri-arrow-left-line mr-2"></i> Continue Shopping
          </a>
      </div>

      <div class="mt-8 p-4 bg-white rounded-lg shadow-md border border-gray-100">
          <h3 class="font-bold text-lg mb-3 flex items-center text-brand-dark"><i class="ri-shield-check-line mr-2 text-brand-red"></i> Purchase Protection</h3>
          <ul class="text-sm text-gray-600 space-y-2 list-disc list-inside">
              <li>100% Genuine Products Guaranteed</li>
              <li>Easy 7-Day Return Policy</li>
              <li>Secure Payment Processing</li>
          </ul>
      </div>

    </div>

    <aside class="lg:sticky lg:top-24 h-max bg-white p-6 rounded-xl shadow-2xl border border-brand-cream">
        
        <h2 class="text-xl font-serif font-bold mb-4 border-b pb-3 text-brand-dark">Order Summary</h2>

        <div class="space-y-3 text-sm">
            <div class="flex justify-between">
                <span>Subtotal:</span>
                <span class="font-medium text-brand-dark">‚Çπ<span id="subtotal-display">0.00</span></span>
            </div>
            <div class="flex justify-between border-b pb-3">
                <span>Shipping:</span>
                <span class="font-medium text-green-600" id="shipping-display">FREE</span>
            </div>
        </div>
        
        <div class="mt-4">
            <h3 class="font-semibold text-sm mb-2">Have a coupon?</h3>
            <div class="flex gap-2">
                <input type="text" placeholder="Enter coupon code" class="w-full p-2 border border-gray-300 rounded text-sm focus:ring-brand-gold focus:border-brand-gold">
                <button class="bg-gray-200 text-gray-700 px-4 py-2 rounded text-sm font-semibold hover:bg-gray-300 transition">Apply</button>
            </div>
        </div>

        <div class="mt-6 pt-4 border-t border-brand-red/50">
            <div class="flex justify-between items-center text-xl font-bold">
                <span>Grand Total:</span>
                <span class="text-brand-red">‚Çπ<span id="total-display">0.00</span></span>
            </div>
        </div>

        <a href="checkout.html">
            <button id="checkout-btn" class="mt-6 w-full bg-brand-red text-white px-6 py-3 rounded-xl text-base font-bold hover:bg-brand-dark transition disabled:bg-red-300" disabled>
                Proceed to Secure Checkout <i class="ri-arrow-right-line ml-1"></i>
            </button>
        </a>

        <p class="text-xs text-center text-gray-500 mt-4 flex items-center justify-center gap-2">
             <i class="ri-lock-line"></i> Securely pay with UPI, Visa, Mastercard & more.
        </p>
    </aside>

  </div>
</main>

<footer class="bg-brand-dark text-white pt-16 pb-8 mt-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
        <div>
          <div class="flex items-center gap-2 mb-4">
              <img src="images/MajeeoNuts.Logo.png" alt="MajeeoNuts" class="h-10 grayscale brightness-200">
              <span class="text-xl font-serif font-bold tracking-wide">MajeeoNuts</span>
          </div>
          <p class="text-gray-400 text-sm mb-6 leading-relaxed">Delivering health and happiness through premium dry fruits. Experience the royal taste of nature's finest jewels.</p>
        </div>
        <div>
          <h4 class="text-brand-gold font-bold mb-4 uppercase tracking-wider text-sm">Shop</h4>
          <ul class="space-y-2 text-gray-400 text-sm">
            <li><a href="shop.html" class="hover:text-white transition">All Products</a></li>
            <li><a href="shop.html?cat=almonds" class="hover:text-white transition">Almonds</a></li>
            <li><a href="shop.html?cat=cashews" class="hover:text-white transition">Cashews</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-brand-gold font-bold mb-4 uppercase tracking-wider text-sm">Support</h4>
          <ul class="space-y-2 text-gray-400 text-sm">
            <li><a href="about.html" class="hover:text-white transition">About Us</a></li>
            <li><a href="contact.html" class="hover:text-white transition">Contact Us</a></li>
            <li><a href="privacy.html" class="hover:text-white transition">Privacy Policy</a></li>
          </ul>
        </div>
        <div>
            <h4 class="text-brand-gold font-bold mb-4 uppercase tracking-wider text-sm">Contact Details</h4>
            <ul class="text-gray-400 space-y-2 text-sm">
                <li>üìç Mumbai, India</li>
                <li>‚úâÔ∏è maheshgawade7799@gmail.com</li>
                <li>üìû +91-7483600212</li>
            </ul>
        </div>
      </div>
      <div class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
        <p class="text-gray-500 text-xs">¬© 2025 MajeeoNuts. All rights reserved.</p>
        <div class="flex gap-4 text-2xl text-gray-500">
           <i class="ri-visa-line"></i>
           <i class="ri-mastercard-line"></i>
           <i class="ri-google-play-line"></i>
        </div>
      </div>
    </div>
</footer>

<script>
    const STORAGE_KEY = 'majeeo-cart';
    const cart = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
    const container = document.getElementById("cart-items");
    const totalDisplay = document.getElementById("total-display");
    const subtotalDisplay = document.getElementById("subtotal-display");
    const checkoutBtn = document.getElementById("checkout-btn");
    const emptyMessage = document.getElementById("empty-cart-message");

    // Reusable function to save cart to local storage
    const saveCart = () => localStorage.setItem(STORAGE_KEY, JSON.stringify(cart));

    function renderCart() {
        container.innerHTML = "";
        let subtotal = 0;
        
        if (cart.length === 0) {
            emptyMessage.style.display = 'block';
            checkoutBtn.disabled = true;
            subtotalDisplay.innerText = "0.00";
            totalDisplay.innerText = "0.00";
            return;
        } else {
             emptyMessage.style.display = 'none';
             checkoutBtn.disabled = false;
        }

        cart.forEach((item, index) => {
            const unitPrice = item.price / item.count;
            subtotal += item.price;
            
            const itemElement = document.createElement("div");
            itemElement.className = "cart-item bg-white p-4 sm:p-6 rounded-lg shadow-sm flex items-center border border-gray-200";
            
            // Item structure: Image (Placeholder), Details, Quantity Control, Price
            itemElement.innerHTML = `
                <div class="w-20 h-20 bg-brand-cream rounded-lg mr-4 flex-shrink-0">
                    <img src="${item.img || 'https://placehold.co/80x80/F0EFEA/1A1A1A?text=NUT'}" alt="${item.name}" class="w-full h-full object-cover rounded-lg">
                </div>
                
                <div class="flex-grow min-w-0">
                    <p class="font-bold text-base text-brand-dark truncate">${item.name}</p>
                    <p class="text-xs text-gray-500">${item.unitGrams}g Unit | ‚Çπ${unitPrice.toFixed(2)}/unit</p>
                </div>
                
                <div class="flex items-center mx-4 flex-shrink-0">
                    <button onclick="updateQuantity(${index}, -1)" class="p-2 border border-gray-300 rounded-l hover:bg-gray-100 transition"><i class="ri-subtract-line text-sm"></i></button>
                    <span class="px-3 py-2 border-y border-gray-300 font-semibold text-sm">${item.count}</span>
                    <button onclick="updateQuantity(${index}, 1)" class="p-2 border border-gray-300 rounded-r hover:bg-gray-100 transition"><i class="ri-add-line text-sm"></i></button>
                </div>

                <div class="text-right flex-shrink-0">
                    <p class="font-bold text-lg text-brand-red">‚Çπ${item.price.toFixed(2)}</p>
                    <button onclick="removeAll(${index})" class="text-xs text-gray-500 hover:text-red-600 mt-1">Remove</button>
                </div>
            `;
            container.appendChild(itemElement);
        });

        // Update Summary Displays
        subtotalDisplay.innerText = subtotal.toFixed(2);
        totalDisplay.innerText = subtotal.toFixed(2); // No taxes/coupons applied in this version
    }

    // Function to handle quantity change (+1 or -1)
    function updateQuantity(index, delta) {
        const item = cart[index];
        const unitPrice = item.price / item.count;
        const unitGrams = item.unitGrams;
        
        if (item.count + delta > 0) {
            item.count += delta;
            item.price += unitPrice * delta;
            item.grams += unitGrams * delta; // Keep total grams updated
        } else if (item.count + delta === 0) {
            // Remove item if quantity hits zero
            cart.splice(index, 1);
        }
        
        saveCart();
        renderCart();
    }

    // Function to remove all units of an item
    function removeAll(index) {
        cart.splice(index, 1);
        saveCart();
        renderCart();
    }

    // Initial load
    renderCart();
</script>

</body>
</html>